<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Form</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
    <header>
        <h1>Search Form</h1>
    </header>
    <div class="container">
        <div class="search-form">
            <form method="get" action="{% url 'home' %}">
                <div class="search-container">
                    <div class="search-field">
                        <label for="first_name">Full Name</label>
                        <input type="text" id="full_name" name="full_name" placeholder="Enter Full Name">
                    </div>
                    <div class="search-field">
                        <label for="job_title">Job Title</label>
                        <input type="text" id="job_title" name="job_title" placeholder="Enter Job Title">
                    </div>
                    <div class="search-field">
                        <label for="job_title_sub_role">Job Title Sub Role</label>
                        <input type="text" id="job_title_sub_role" name="job_title_sub_role" placeholder="Enter Job Title Sub Role">
                    </div>
                    <div class="search-field">
                        <label for="job_company_location_name">Company Location</label>
                        <input type="text" id="job_company_location_name" name="job_company_location_name" placeholder="Enter Company Location">
                    </div>
                </div>
                <div class="search-container">
                    <div class="search-field">
                        <label for="industry">Industry</label>
                        <input type="text" id="industry" name="industry" placeholder="Enter Industry">
                    </div>
                    <div class="search-field">
                        <label for="location_name">Location Name</label>
                        <input type="text" id="location_name" name="location_name" placeholder="Enter Location Name">
                    </div>
                    <div class="search-field">
                        <label for="location_country">Location Country</label>
                        <input type="text" id="location_country" name="location_country" placeholder="Enter Location Country">
                    </div>
                    <div class="search-field">
                        <label for="skills">Skills</label>
                        <input type="text" id="skills" name="skills" placeholder="Enter Skills">
                    </div>
                </div>
                <div class="search-container">
                    <div class="search-field">
                        <label for="countries">Countries</label>
                        <input type="text" id="countries" name="countries" placeholder="Enter Countries">
                    </div>
                    <div class="search-field">
                        <label for="education">Education</label>
                        <input type="text" id="education" name="education" placeholder="Enter Education">
                    </div>
                </div>
                <input type="submit" value="Search">
            </form>
        </div>

        {% if results %}
        <div class="results-container">
            <h2>Search Results:</h2>
            <div class="result-count">Total Results: {{ results|length }}</div> <!-- Display count of results -->
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Full Name</th>
                        <th>Job Title</th>
                        <th>Job Title Sub Role</th>
                        <th>Company Location</th>
                        <th>Industry</th>
                        <th>Location Name</th>
                        <th>Location Country</th>
                        <th>Skills</th>
                        <th>Countries</th>
                        <th>Education</th>
                    </tr>
                </thead>
                <tbody>
                    {% for result in results %}
                    <tr>
                        <td>{{ result.id }}</td>
                        <td>{{ result.full_name }}</td>
                        <td>{{ result.job_title }}</td>
                        <td>{{ result.job_title_sub_role }}</td>
                        <td>{{ result.job_company_location_name }}</td>
                        <td>{{ result.industry }}</td>
                        <td>{{ result.location_name }}</td>
                        <td>{{ result.location_country }}</td>
                        <td>{{ result.skills }}</td>
                        <td>{{ result.countries }}</td>
                        <td>{{ result.education }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <button id="id-download-button">Download</button>
        </div>
        {% endif %}
    </div>
    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>
